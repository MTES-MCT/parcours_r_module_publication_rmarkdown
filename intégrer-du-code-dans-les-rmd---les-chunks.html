<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 4 Intégrer du code dans les RMD - Les chunks | exo partie 2</title>
  <meta name="description" content="Support de cours du module 6 « Publications reproductibles avec RMarkdown » de la valise pédagogique Parcours-r MTES/MCTRCT" />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 4 Intégrer du code dans les RMD - Les chunks | exo partie 2" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Support de cours du module 6 « Publications reproductibles avec RMarkdown » de la valise pédagogique Parcours-r MTES/MCTRCT" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 4 Intégrer du code dans les RMD - Les chunks | exo partie 2" />
  
  <meta name="twitter:description" content="Support de cours du module 6 « Publications reproductibles avec RMarkdown » de la valise pédagogique Parcours-r MTES/MCTRCT" />
  

<meta name="author" content="Caroline COUDRIN" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="le-fichier-r-markdown.html"/>
<link rel="next" href="convertir-le-fichier-rmarkdown-pour-utilisation.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><p style="text-align:center;"><img src="https://mtes-mct.github.io/parcours-r/assets/images/logo_marianne_fond_blanc.png" style="width:100px;"/></p></li>
<li><a href="./index.html">Les productions reproductibles avec Rmarkdown</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#le-parcours-de-formation"><i class="fa fa-check"></i><b>0.1</b> Le parcours de formation</a></li>
<li class="chapter" data-level="0.2" data-path="04-chunks.html"><a href="#le-groupe-de-r%C3%A9f%C3%A9rents-r-du-p%C3%B4le-minist%C3%A9riel"><i class="fa fa-check"></i><b>0.2</b> Le groupe de référents R du pôle ministériel</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#objectifs-de-ce-module"><i class="fa fa-check"></i>Objectifs de ce module</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#exemples-de-productions-avec-r-markdown"><i class="fa fa-check"></i><b>0.3</b> Exemples de productions avec R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="get-started.html"><a href="get-started.html"><i class="fa fa-check"></i><b>1</b> Bien commencer</a>
<ul>
<li class="chapter" data-level="1.1" data-path="04-chunks.html"><a href="#cr%C3%A9er-un-projet-sous-rstudio-pour-vous-permettre-de-recenser-vos-travaux."><i class="fa fa-check"></i><b>1.1</b> Créer un projet sous Rstudio pour vous permettre de recenser vos travaux.</a></li>
<li class="chapter" data-level="1.2" data-path="get-started.html"><a href="get-started.html#utilisation-du-package-savoirfr"><i class="fa fa-check"></i><b>1.2</b> Utilisation du package <code>{savoirfR}</code></a></li>
<li class="chapter" data-level="1.3" data-path="04-chunks.html"><a href="#cr%C3%A9er-votre-arborescence-de-projet"><i class="fa fa-check"></i><b>1.3</b> Créer votre arborescence de projet</a></li>
<li class="chapter" data-level="1.4" data-path="04-chunks.html"><a href="#activer-les-packages-n%C3%A9cessaires"><i class="fa fa-check"></i><b>1.4</b> Activer les packages nécessaires</a></li>
<li class="chapter" data-level="1.5" data-path="get-started.html"><a href="get-started.html#bien-structurer-ses-projets-data"><i class="fa fa-check"></i><b>1.5</b> Bien structurer ses projets data</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="la-publication-reproductible.html"><a href="la-publication-reproductible.html"><i class="fa fa-check"></i><b>2</b> La publication reproductible</a>
<ul>
<li class="chapter" data-level="2.1" data-path="04-chunks.html"><a href="#d%C3%A9finition"><i class="fa fa-check"></i><b>2.1</b> Définition</a></li>
<li class="chapter" data-level="2.2" data-path="la-publication-reproductible.html"><a href="la-publication-reproductible.html#bonnes-pratiques"><i class="fa fa-check"></i><b>2.2</b> Bonnes pratiques</a></li>
<li class="chapter" data-level="2.3" data-path="la-publication-reproductible.html"><a href="la-publication-reproductible.html#origine-du-format-r-markdown"><i class="fa fa-check"></i><b>2.3</b> Origine du format <em>R markdown</em></a></li>
<li class="chapter" data-level="2.4" data-path="la-publication-reproductible.html"><a href="la-publication-reproductible.html#du-.rmd-au-format-de-sortie"><i class="fa fa-check"></i><b>2.4</b> Du .Rmd au format de sortie</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="le-fichier-r-markdown.html"><a href="le-fichier-r-markdown.html"><i class="fa fa-check"></i><b>3</b> Le fichier <em>R Markdown</em></a>
<ul>
<li class="chapter" data-level="3.1" data-path="le-fichier-r-markdown.html"><a href="le-fichier-r-markdown.html#r-markdown-dans-rstudio"><i class="fa fa-check"></i><b>3.1</b> R markdown dans RStudio</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="04-chunks.html"><a href="#cr%C3%A9er-un-fichier-.rmd"><i class="fa fa-check"></i><b>3.1.1</b> Créer un fichier .Rmd</a></li>
<li class="chapter" data-level="3.1.2" data-path="04-chunks.html"><a href="#lancer-la-g%C3%A9n%C3%A9ration-du-document"><i class="fa fa-check"></i><b>3.1.2</b> Lancer la génération du document</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="04-chunks.html"><a href="#les-%C3%A9l%C3%A9ments-dun-fichier-.rmd"><i class="fa fa-check"></i><b>3.2</b> Les éléments d’un fichier .Rmd</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="04-chunks.html"><a href="#len-t%C3%AAte"><i class="fa fa-check"></i><b>3.2.1</b> L’en-tête</a></li>
<li class="chapter" data-level="3.2.2" data-path="04-chunks.html"><a href="#les-%C3%A9l%C3%A9ments-texte"><i class="fa fa-check"></i><b>3.2.2</b> Les éléments texte</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="04-chunks.html"><a href="#ins%C3%A9rer-des-images"><i class="fa fa-check"></i><b>3.3</b> Insérer des images</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="04-chunks.html"><a href="#int%C3%A9grer-du-code-dans-les-rmd---les-chunks"><i class="fa fa-check"></i><b>4</b> Intégrer du code dans les RMD - Les <em>chunks</em></a>
<ul>
<li class="chapter" data-level="4.1" data-path="intégrer-du-code-dans-les-rmd---les-chunks.html"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html"><i class="fa fa-check"></i><b>4.1</b> Les options des <em>chunks</em></a></li>
<li class="chapter" data-level="4.2" data-path="intégrer-du-code-dans-les-rmd---les-chunks.html"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#les-options-globales-des-chunks"><i class="fa fa-check"></i><b>4.2</b> Les options globales des chunks</a></li>
<li class="chapter" data-level="4.3" data-path="intégrer-du-code-dans-les-rmd---les-chunks.html"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#utiliser-des-outputs"><i class="fa fa-check"></i><b>4.3</b> Utiliser des outputs</a></li>
<li class="chapter" data-level="4.4" data-path="intégrer-du-code-dans-les-rmd---les-chunks.html"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#les-insertions-de-code-en-ligne"><i class="fa fa-check"></i><b>4.4</b> Les insertions de code en ligne</a></li>
<li class="chapter" data-level="4.5" data-path="04-chunks.html"><a href="#ex%C3%A9cuter-le-code-des-chunks"><i class="fa fa-check"></i><b>4.5</b> Exécuter le code des chunks</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="convertir-le-fichier-rmarkdown-pour-utilisation.html"><a href="convertir-le-fichier-rmarkdown-pour-utilisation.html"><i class="fa fa-check"></i><b>5</b> Convertir le fichier Rmarkdown pour utilisation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="convertir-le-fichier-rmarkdown-pour-utilisation.html"><a href="convertir-le-fichier-rmarkdown-pour-utilisation.html#les-formats-de-sortie"><i class="fa fa-check"></i><b>5.1</b> Les formats de sortie</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="convertir-le-fichier-rmarkdown-pour-utilisation.html"><a href="convertir-le-fichier-rmarkdown-pour-utilisation.html#html"><i class="fa fa-check"></i><b>5.1.1</b> HTML</a></li>
<li class="chapter" data-level="5.1.2" data-path="convertir-le-fichier-rmarkdown-pour-utilisation.html"><a href="convertir-le-fichier-rmarkdown-pour-utilisation.html#pdf"><i class="fa fa-check"></i><b>5.1.2</b> PDF</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="04-chunks.html"><a href="#ajouter-des-param%C3%A8tres"><i class="fa fa-check"></i><b>6</b> Ajouter des paramètres</a></li>
<li class="chapter" data-level="7" data-path="a-ne-pas-oublier.html"><a href="a-ne-pas-oublier.html"><i class="fa fa-check"></i><b>7</b> A ne pas oublier</a></li>
<li class="chapter" data-level="8" data-path="rappels-du-jour-1.html"><a href="rappels-du-jour-1.html"><i class="fa fa-check"></i><b>8</b> Rappels du jour 1</a></li>
<li class="chapter" data-level="9" data-path="exercice.html"><a href="exercice.html"><i class="fa fa-check"></i><b>9</b> Exercice</a>
<ul>
<li class="chapter" data-level="9.1" data-path="exercice.html"><a href="exercice.html#cadrage"><i class="fa fa-check"></i><b>9.1</b> Cadrage</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="04-chunks.html"><a href="#probl%C3%A9matique"><i class="fa fa-check"></i><b>9.1.1</b> Problématique</a></li>
<li class="chapter" data-level="9.1.2" data-path="exercice.html"><a href="exercice.html#rendu"><i class="fa fa-check"></i><b>9.1.2</b> Rendu</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="de-la-page-au-livre-le-package-bookdown.html"><a href="de-la-page-au-livre-le-package-bookdown.html"><i class="fa fa-check"></i><b>10</b> De la page au livre, le package bookdown</a>
<ul>
<li class="chapter" data-level="10.1" data-path="04-chunks.html"><a href="#d%C3%A9marrer-un-projet-de-livre-de-la-page-blanche"><i class="fa fa-check"></i><b>10.1</b> Démarrer un projet de livre de la page blanche</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="de-la-page-au-livre-le-package-bookdown.html"><a href="de-la-page-au-livre-le-package-bookdown.html#installer-le-package-bookdown"><i class="fa fa-check"></i><b>10.1.1</b> Installer le package bookdown</a></li>
<li class="chapter" data-level="10.1.2" data-path="04-chunks.html"><a href="#initialiser-un-mod%C3%A8le-de-livre"><i class="fa fa-check"></i><b>10.1.2</b> Initialiser un modèle de livre</a></li>
<li class="chapter" data-level="10.1.3" data-path="04-chunks.html"><a href="#g%C3%A9n%C3%A9rer-le-livre-et-le-relire"><i class="fa fa-check"></i><b>10.1.3</b> Générer le livre et le (re)lire</a></li>
<li class="chapter" data-level="10.1.4" data-path="04-chunks.html"><a href="#se-lancer-dans-l%C3%A9criture"><i class="fa fa-check"></i><b>10.1.4</b> Se lancer dans l’écriture</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="04-chunks.html"><a href="#composer-son-livre-quand-la-mati%C3%A8re-est-d%C3%A9j%C3%A0-disponible"><i class="fa fa-check"></i><b>10.2</b> Composer son livre quand la matière est déjà disponible</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="de-la-page-au-livre-le-package-bookdown.html"><a href="de-la-page-au-livre-le-package-bookdown.html#illustration-pratique-dune-composition"><i class="fa fa-check"></i><b>10.2.1</b> Illustration pratique d’une composition</a></li>
<li class="chapter" data-level="10.2.2" data-path="de-la-page-au-livre-le-package-bookdown.html"><a href="de-la-page-au-livre-le-package-bookdown.html#organisation-des-sources-dun-bookdown"><i class="fa fa-check"></i><b>10.2.2</b> Organisation des sources d’un bookdown</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="04-chunks.html"><a href="#au-del%C3%A0-du-fond-sattaquer-aux-go%C3%BBts-et-couleurs"><i class="fa fa-check"></i><b>10.3</b> Au-delà du fond s’attaquer aux goûts et couleurs</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="04-chunks.html"><a href="#les-types-de-sorties-ou-les-diff%C3%A9rents-rendus-possibles"><i class="fa fa-check"></i><b>10.3.1</b> Les types de sorties, ou les différents rendus possibles</a></li>
<li class="chapter" data-level="10.3.2" data-path="04-chunks.html"><a href="#un-choix-esth%C3%A9tique-cadr%C3%A9"><i class="fa fa-check"></i><b>10.3.2</b> Un choix esthétique cadré</a></li>
<li class="chapter" data-level="10.3.3" data-path="04-chunks.html"><a href="#polices-de-caract%C3%A8res-et-couleurs-imposez-votre-style"><i class="fa fa-check"></i><b>10.3.3</b> Polices de caractères et couleurs, imposez votre style</a></li>
<li class="chapter" data-level="10.3.4" data-path="04-chunks.html"><a href="#un-choix-esth%C3%A9tique-cadr%C3%A9-1"><i class="fa fa-check"></i><b>10.3.4</b> Un choix esthétique cadré</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="04-chunks.html"><a href="#quelques-options-et-d%C3%A9tails-techniques-compl%C3%A9mentaires"><i class="fa fa-check"></i><b>10.4</b> Quelques options et détails techniques complémentaires</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="04-chunks.html"><a href="#options-tri%C3%A9es-sur-le-volet"><i class="fa fa-check"></i><b>10.4.1</b> Options triées sur le volet</a></li>
<li class="chapter" data-level="10.4.2" data-path="de-la-page-au-livre-le-package-bookdown.html"><a href="de-la-page-au-livre-le-package-bookdown.html#retour-sur-le-fonctionnement-global"><i class="fa fa-check"></i><b>10.4.2</b> Retour sur le fonctionnement global</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="de-la-page-au-livre-le-package-bookdown.html"><a href="de-la-page-au-livre-le-package-bookdown.html#etude-dun-exemple-bookdown-propre.rpls"><i class="fa fa-check"></i><b>10.5</b> Etude d’un exemple bookdown : propre.rpls</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="de-la-page-au-livre-le-package-bookdown.html"><a href="de-la-page-au-livre-le-package-bookdown.html#exemple-dappropriation-dune-publication-rpls"><i class="fa fa-check"></i><b>10.5.1</b> Exemple d’appropriation d’une publication Rpls</a></li>
<li class="chapter" data-level="10.5.2" data-path="04-chunks.html"><a href="#compr%C3%A9hension-globale-de-larchitecture-du-paquet-propre.rpl"><i class="fa fa-check"></i><b>10.5.2</b> Compréhension globale de l’architecture du paquet propre.rpl</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="de-la-page-au-livre-le-package-bookdown.html"><a href="de-la-page-au-livre-le-package-bookdown.html#focus-sur-lenvoi-au-photocopieur-du-livre-ou-comment-imprime"><i class="fa fa-check"></i><b>10.6</b> Focus sur l’envoi au photocopieur du livre ou comment imprime</a></li>
<li class="chapter" data-level="10.7" data-path="04-chunks.html"><a href="#bookdown-maintenant-et-au-del%C3%A0"><i class="fa fa-check"></i><b>10.7</b> Bookdown, maintenant et au-delà</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="du-rmarkdown-interactif.html"><a href="du-rmarkdown-interactif.html"><i class="fa fa-check"></i><b>11</b> Du Rmarkdown interactif</a>
<ul>
<li class="chapter" data-level="11.1" data-path="04-chunks.html"><a href="#interactivit%C3%A9-simple-les-visuels-saniment"><i class="fa fa-check"></i><b>11.1</b> Interactivité simple, les visuels s’animent</a></li>
<li class="chapter" data-level="11.2" data-path="04-chunks.html"><a href="#interactivit%C3%A9-avanc%C3%A9e-les-inputs-utilisateur"><i class="fa fa-check"></i><b>11.2</b> Interactivité avancée, les inputs utilisateur</a></li>
<li class="chapter" data-level="11.3" data-path="du-rmarkdown-interactif.html"><a href="du-rmarkdown-interactif.html#exercice-x"><i class="fa fa-check"></i><b>11.3</b> Exercice X</a></li>
<li class="chapter" data-level="11.4" data-path="04-chunks.html"><a href="#interactivit%C3%A9-compl%C3%A8te-lapplication-shiny-embarqu%C3%A9e"><i class="fa fa-check"></i><b>11.4</b> Interactivité complète, l’application Shiny embarquée</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="04-chunks.html"><a href="#d%C3%A9roul%C3%A9"><i class="fa fa-check"></i><b>12</b> Déroulé</a>
<ul>
<li class="chapter" data-level="12.1" data-path="déroulé.html"><a href="déroulé.html"><i class="fa fa-check"></i><b>12.1</b> Bookdown</a></li>
<li class="chapter" data-level="12.2" data-path="déroulé.html"><a href="déroulé.html#pagedown"><i class="fa fa-check"></i><b>12.2</b> Pagedown</a></li>
<li class="chapter" data-level="12.3" data-path="déroulé.html"><a href="déroulé.html#officer"><i class="fa fa-check"></i><b>12.3</b> Officer</a></li>
<li class="chapter" data-level="12.4" data-path="déroulé.html"><a href="déroulé.html#la-structure-du-projet---_bookdown.yml"><i class="fa fa-check"></i><b>12.4</b> La structure du projet - _bookdown.yml</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="pagedown-1.html"><a href="pagedown-1.html"><i class="fa fa-check"></i><b>13</b> Pagedown</a>
<ul>
<li class="chapter" data-level="13.1" data-path="pagedown-1.html"><a href="pagedown-1.html#pagedown-2"><i class="fa fa-check"></i><b>13.1</b> Pagedown</a></li>
<li class="chapter" data-level="13.2" data-path="pagedown-1.html"><a href="pagedown-1.html#paged.js"><i class="fa fa-check"></i><b>13.2</b> Paged.js</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="configurer-votre-yaml.html"><a href="configurer-votre-yaml.html"><i class="fa fa-check"></i><b>14</b> Configurer votre yaml</a></li>
<li class="chapter" data-level="15" data-path="configurer-votre-yaml-1.html"><a href="configurer-votre-yaml-1.html"><i class="fa fa-check"></i><b>15</b> Configurer votre yaml</a></li>
<li class="chapter" data-level="16" data-path="modifier-le-css.html"><a href="modifier-le-css.html"><i class="fa fa-check"></i><b>16</b> Modifier le CSS</a></li>
<li class="chapter" data-level="17" data-path="modifier-le-css-1.html"><a href="modifier-le-css-1.html"><i class="fa fa-check"></i><b>17</b> Modifier le CSS</a></li>
<li class="chapter" data-level="18" data-path="modifier-le-css-2.html"><a href="modifier-le-css-2.html"><i class="fa fa-check"></i><b>18</b> Modifier le CSS</a></li>
<li class="chapter" data-level="19" data-path="modifier-le-css-3.html"><a href="modifier-le-css-3.html"><i class="fa fa-check"></i><b>19</b> Modifier le CSS</a></li>
<li class="chapter" data-level="20" data-path="pour-aller-plus-loin.html"><a href="pour-aller-plus-loin.html"><i class="fa fa-check"></i><b>20</b> Pour aller plus loin</a>
<ul>
<li class="chapter" data-level="20.1" data-path="pour-aller-plus-loin.html"><a href="pour-aller-plus-loin.html#les-documents-quarto"><i class="fa fa-check"></i><b>20.1</b> Les documents Quarto</a></li>
<li class="chapter" data-level="20.2" data-path="pour-aller-plus-loin.html"><a href="pour-aller-plus-loin.html#affichages-sur-plusieurs-colonnes"><i class="fa fa-check"></i><b>20.2</b> Affichages sur plusieurs colonnes</a></li>
<li class="chapter" data-level="20.3" data-path="pour-aller-plus-loin.html"><a href="pour-aller-plus-loin.html#autres-formats-de-sortie"><i class="fa fa-check"></i><b>20.3</b> Autres formats de sortie</a></li>
<li class="chapter" data-level="20.4" data-path="pour-aller-plus-loin.html"><a href="pour-aller-plus-loin.html#odt_document-todo"><i class="fa fa-check"></i><b>20.4</b> odt_document –&gt; TODO</a></li>
<li class="chapter" data-level="20.5" data-path="pour-aller-plus-loin.html"><a href="pour-aller-plus-loin.html#reference-.r-files"><i class="fa fa-check"></i><b>20.5</b> reference .R files</a></li>
<li class="chapter" data-level="20.6" data-path="pour-aller-plus-loin.html"><a href="pour-aller-plus-loin.html#le-cache"><i class="fa fa-check"></i><b>20.6</b> Le cache</a></li>
<li class="chapter" data-level="20.7" data-path="pour-aller-plus-loin.html"><a href="pour-aller-plus-loin.html#bibliographie"><i class="fa fa-check"></i><b>20.7</b> Bibliographie</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="rendu-des-exercices-partie-2.html"><a href="rendu-des-exercices-partie-2.html"><i class="fa fa-check"></i><b>21</b> Rendu des exercices partie 2</a>
<ul>
<li class="chapter" data-level="21.1" data-path="04-chunks.html"><a href="#traitement-des-donn%C3%A9es"><i class="fa fa-check"></i><b>21.1</b> Traitement des données</a></li>
<li class="chapter" data-level="21.2" data-path="04-chunks.html"><a href="#nombre-de-ls-par-r%C3%A9gion"><i class="fa fa-check"></i><b>21.2</b> Nombre de LS par région</a></li>
<li class="chapter" data-level="21.3" data-path="04-chunks.html"><a href="#graphiques-d%C3%A9volution"><i class="fa fa-check"></i><b>21.3</b> Graphiques d’évolution</a></li>
<li class="chapter" data-level="21.4" data-path="rendu-des-exercices-partie-2.html"><a href="rendu-des-exercices-partie-2.html#pour-rappel"><i class="fa fa-check"></i><b>21.4</b> Pour rappel</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://mtes-mct.github.io/parcours-r/">Liste des formations R</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">exo partie 2</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intégrer-du-code-dans-les-rmd---les-chunks" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapitre 4</span> Intégrer du code dans les RMD - Les <em>chunks</em><a href="#int%C3%A9grer-du-code-dans-les-rmd---les-chunks" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Les parties de code R sont contenues dans des blocs, appelés
<em>chunks</em>.</p>
<p>Ces chunks commencent et finissent par les balises <code>```</code>.</p>
<p>C’est dans les chunks que vous pouvoir insérer le code R que vous
voulez voir exécuter.</p>
<p><img src="assets/img/chunk_cars.png" /></p>
<p>On peut créer un nouveau chunk en cliquant sur le bouton</p>
<p><img src="assets/img/icone_ajout_chunk.png" /> ou grâce au raccourci clavier <code>Ctrl + Alt + I</code>.</p>
<p>Ces chunks peuvent être nommés (avec des caractères alphanumériques
minuscules et majuscules et des tirets <code>-</code>). Dans l’exemple précédent,
le nom du chunk est cars.</p>
<div id="les-options-des-chunks" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Les options des <em>chunks</em><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#les-options-des-chunks" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Au début de chaque chunk se trouve une accolade contenant la lettre
r. C’est dans cette accolade, après la lettre r (qu’il ne faut pas
enlever) que les options vont pouvoir être passées. Elles permettent
de controller finement ce qui est produit par le chunk, pour choisir
de faire apparaître, ou non, le code dans le rapport dynamique, ainsi
que les résultats, ou encore pour définir la taille des plots.</p>
<p>Chaque chunk peut recevoir des options. Voici quelques exemples utilisés
fréquemment :</p>
<ul>
<li><p><code>eval = TRUE</code> : Le chunk est exécuté.</p></li>
<li><p><code>include = FALSE</code> : Le code contenu dans le chunk est éxecuté
sans que soient affichés ni le chunk ni son résultat. Ses
résultats sont utilisables par d’autres chunks.</p></li>
<li><p><code>echo = FALSE</code> : permet de ne pas afficher les codes dans le rendu.
Par contre le résultat est affiché.</p></li>
<li><p><code>message = FALSE</code> : empêche l’affichage des messages d’information générés par les codes.</p></li>
<li><p><code>warning = FALSE</code> : empêche l’affichage des messages d’alerte générés par les codes.</p></li>
<li><p><code>error = FALSE</code> : empêche l’affichage des messages d’erreur générés par les codes.</p></li>
<li><p><code>fig.cap = "..."</code> : ajoute une légende aux graphiques.</p></li>
<li><p><code>fig.align = "..."</code> : aligne les graphiques (choix : <code>left</code>, <code>right</code> ou <code>center</code>).</p></li>
<li><p><code>fig.height = 6, fig.width = 8</code> : permet de modifier les dimensions
de la figure (en pouces).</p></li>
<li><p><code>fig.pos = "..."</code> : permet de définir la position des graphiques
(choix : ????).</p></li>
</ul>
<blockquote>
<p>ASK: comment on utilise l’option fig.pos?
— CCn</p>
</blockquote>
<p>Les chunks sont gérés dans <code>{Rmarkdown}</code> par le package <code>{knitr}</code>.</p>
<p>Il y a plus de 50 options possibles pour un chunk, vous pouvez trouver
l’ensemble de la documentation
<a href="https://yihui.org/knitr/options/">ici</a>.</p>
</div>
<div id="les-options-globales-des-chunks" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Les options globales des chunks<a href="intégrer-du-code-dans-les-rmd---les-chunks.html#les-options-globales-des-chunks" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Il est possible de définir des options globales qui seront appliquées à
chacun des chunks qui sont contenus dans le fichier, sauf
spécifications contraires dans les options d’un chunk.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb11-1"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb11-1" tabindex="-1"></a></span>
<span id="cb11-2"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb11-2" tabindex="-1"></a><span class="in">```{r, setup, include=FALSE}</span></span>
<span id="cb11-3"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb11-3" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(</span></span>
<span id="cb11-4"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb11-4" tabindex="-1"></a><span class="in">  message = FALSE, </span></span>
<span id="cb11-5"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb11-5" tabindex="-1"></a><span class="in">  warning = FALSE</span></span>
<span id="cb11-6"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb11-6" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb11-7"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb11-7" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>Ce chunk <em>setup</em> se trouve en dessous de l’en-tête, il permet de
régler les options par défaut de tous les chunks grâce à la fonction
<code>knitr::opts_chunk$set()</code>. Par exemple, on va
pouvoir indiquer que l’on ne veut pas faire apparaitre les messages et
les warnings qui pourraient être générés lors de l’exécution des
chunks. Au lieu de le faire pour tous les chunks, on peut le faire une
seule fois ici.</p>
</div>
<div id="utiliser-des-outputs" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Utiliser des outputs<a href="intégrer-du-code-dans-les-rmd---les-chunks.html#utiliser-des-outputs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A l’intérieur du chunk, de nombreuses choses peuvent être faites,
comme traiter des données, produire une table, des graphiques ou du
texte.</p>
<p>Pour cela, on utilise différentes fonctions R comme
<code>plot</code> ou <code>kable</code> dans un chunk.</p>
<p>On peut par exemple inclure un <strong>graphique</strong>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb12-1"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb12-1" tabindex="-1"></a></span>
<span id="cb12-2"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb12-2" tabindex="-1"></a><span class="in">```{r, echo=FALSE}</span></span>
<span id="cb12-3"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb12-3" tabindex="-1"></a><span class="in">plot(pressure)</span></span>
<span id="cb12-4"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb12-4" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>ce qui affiche le graphique dans le document, directement après le chunk:</p>
<p><img src="support_m6_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Ou des <strong>données</strong> non mises en forme</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb13-1"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb13-1" tabindex="-1"></a></span>
<span id="cb13-2"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb13-2" tabindex="-1"></a><span class="in">```{r, echo=FALSE}</span></span>
<span id="cb13-3"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb13-3" tabindex="-1"></a><span class="in">summary(cars)</span></span>
<span id="cb13-4"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb13-4" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<pre><code>##      speed           dist       
##  Min.   : 4.0   Min.   :  2.00  
##  1st Qu.:12.0   1st Qu.: 26.00  
##  Median :15.0   Median : 36.00  
##  Mean   :15.4   Mean   : 42.98  
##  3rd Qu.:19.0   3rd Qu.: 56.00  
##  Max.   :25.0   Max.   :120.00</code></pre>
<p>Ou des <strong>tableaux</strong></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb15-1"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb15-1" tabindex="-1"></a></span>
<span id="cb15-2"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb15-2" tabindex="-1"></a><span class="in">```{r, echo=FALSE}</span></span>
<span id="cb15-3"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb15-3" tabindex="-1"></a><span class="in">knitr::kable(iris[1:5, ], caption = &#39;A caption&#39;)</span></span>
<span id="cb15-4"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb15-4" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>qui rend</p>
<table>
<caption><span id="tab:unnamed-chunk-9">Table 4.1: </span>A caption</caption>
<thead>
<tr class="header">
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
<th align="left">Species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5.1</td>
<td align="right">3.5</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.9</td>
<td align="right">3.0</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">4.7</td>
<td align="right">3.2</td>
<td align="right">1.3</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.6</td>
<td align="right">3.1</td>
<td align="right">1.5</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">5.0</td>
<td align="right">3.6</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
</tbody>
</table>
</div>
<div id="les-insertions-de-code-en-ligne" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Les insertions de code en ligne<a href="intégrer-du-code-dans-les-rmd---les-chunks.html#les-insertions-de-code-en-ligne" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Enfin, il est possible d’<strong>insérer la valeur d’objets R</strong> (variable,
liste, résultat de calcul simple…) dans du texte. Pour cela il faut
inclure l’objet R entre <code>`r ...code...`</code>.</p>
<p>Par exemple le code suivant:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb16-1"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb16-1" tabindex="-1"></a></span>
<span id="cb16-2"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb16-2" tabindex="-1"></a><span class="in">```{r, echo=FALSE}</span></span>
<span id="cb16-3"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb16-3" tabindex="-1"></a><span class="in">numero &lt;-  6  </span></span>
<span id="cb16-4"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb16-4" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb16-5"><a href="intégrer-du-code-dans-les-rmd---les-chunks.html#cb16-5" tabindex="-1"></a>Je suis actuellement en train de me former au module  <span class="in">`r numero`</span>.</span></code></pre></div>
<p>permet d’afficher dans le document:</p>
<p>Je suis actuellement en train de me former au module 6.</p>
</div>
<div id="exécuter-le-code-des-chunks" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> Exécuter le code des chunks<a href="#ex%C3%A9cuter-le-code-des-chunks" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Les codes contenus dans les chunks d’un document.Rmd peuvent être
exécutés comme les codes contenus dans un script R en .R. Vous pouvez
exécuter l’ensemble en faisant CTRL + A pour tout sélectionner et
CRTL + ENTER pour exécuter. Vous pouvez aussi exécuter le code chunk
par chunk en placer votre souris au début d’un chunk puis en utilisant
CTRL + ENTER ou en cliquant sur le bouton <strong>play vert</strong> en haut du
chunk. D’autres options sont disponibles dans le menu déroulant du
bouton run en haut à droite.</p>
<p>Lorsque le code est excécuté, par défaut les résultats (sorties) et
les plots sont affichés dans le document .Rmd. Pour afficher les
sorties dans la console et les plots dans la fenêtre graphique, il
faut choisir l’option “Chunk Output in Console“.</p>
<div class="exo">
<p><strong>Exercice 3</strong></p>
<blockquote>
<p>ASK: dans ce exercice est ce qu’on doit expliciter les traitements
de données et le graphique attendu? oui!
il faut prévoir un temps pour expliciter les données utilisées (RPLS)
— CCn</p>
</blockquote>
<ul>
<li>Partir du fichier .Rmd de l’exercice précédent</li>
<li>Définir des options générales</li>
<li>Ajouter un chunk créant une table, qui sera traitée mais non
affichée dans le document final</li>
<li>Ajouter un chunk créant un graphique, qui sera traité et affiché dans
le document final</li>
<li>Ajouter une image</li>
<li>Générer le document</li>
</ul>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="le-fichier-r-markdown.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="convertir-le-fichier-rmarkdown-pour-utilisation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"pandoc_args": ["-M", "toc-title=Table des matières"]
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
